
为了偷懒，我用google/zx一键打包编译前后端项目到指定环境

由于正在负责的一个项目，就说前端涉及到PC端、公众号端、APP端的H5、小程序端、可视化大屏端，而PC和APP又通过qiankun引入了微前端的理念。整体一圈下来可能光前端编译打包就要build差不多二十次。而有时候经常性的bug改动，这个时候便只需要进行测试后需要进行小范围的测试


## 1、编译前端应用

#### 1.1、前端应用如下
- console 主应用加上子应用
- app 主应用加上子应用
- wechat 公众号 单应用
- qrcode 一户一码 单应用
- park 园区企业 单应用
- mp 乡村建设 主应用加上子应用

#### 1.2、已实现功能
- A、实现cd到应用后，先git pull拉取代码（没有实现安装依赖的功能，需要手动实现检查）
- B、拉取代码后，可先设置package.json中的版本号，然后页面中的版本号读取package.json中的版本
- C、编译完毕，先推送代码，因为有修改版本号
- D、判断是否需要git tag打标签，可通过git tag实现，如果已经存在tag，可先删除之前的再进行打新的同样的标签
- E、git push 将标签推送到源代码服务器
- F、将编译的代码拷贝到dev开发环境，可以进行验证
- G、代码编译完毕后，可以将编译后的文件推送到release分支，供部署使用

- 编译前就行备份，就是新建一个文件夹，将当前要编译的应用拷贝到备份文件夹
## 2、编译后端应用
- A、拉取代码
- B、dotnet build编译单个微服务
- C、编译成功后，直接拷贝到dev开发服务器
- D、通过ssh登录服务器，并通过脚本重启后端服务 systemctl restart dvs-collect
- E、暂时做的比较简单
